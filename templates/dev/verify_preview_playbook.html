{% extends 'base.html' %}

{% block title %}Preview - Vérif Intégrité (Playbook) - SecureBank{% endblock %}

{% block content %}
<div style="max-width: 900px; margin: 24px auto;">
    <h2>Preview: Playbook / Checklist de Remédiation</h2>

    <div class="card mt-3">
        <div class="card-body">
            <p class="text-muted">Checklist guidée pour investiguer et corriger les entrées corrompues.</p>

            <ol class="playbook">
                <li>
                    <div class="step-title">Exporter les entrées corrompues</div>
                    <div class="step-desc">Exporter en CSV/JSON les entrées concernées pour analyse hors‑ligne.</div>
                    <div class="step-actions"><a class="btn btn-outline-secondary btn-sm">Exporter</a></div>
                </li>
                <li>
                    <div class="step-title">Vérifier les sauvegardes et snapshots</div>
                    <div class="step-desc">Comparer avec backups du même intervalle.</div>
                    <div class="step-actions"><a class="btn btn-outline-secondary btn-sm">Voir politiques de sauvegarde</a></div>
                </li>
                <li>
                    <div class="step-title">Isoler la plage affectée</div>
                    <div class="step-desc">Mettre en quarantaine les entrées pour éviter propagation d'erreurs.</div>
                    <div class="step-actions"><a class="btn btn-danger btn-sm">Isoler</a></div>
                </li>
                <li>
                    <div class="step-title">Créer un ticket d'incident</div>
                    <div class="step-desc">Générer un ticket pré‑rempli pour l'équipe sécurité/compliance.</div>
                    <div class="step-actions"><a class="btn btn-primary btn-sm">Créer ticket</a></div>
                </li>
                <li>
                    <div class="step-title">Re-signature et re-vérification</div>
                    <div class="step-desc">Après correction, recalculer signatures et relancer la vérification.</div>
                    <div class="step-actions"><a class="btn btn-outline-primary btn-sm">Relancer vérification</a></div>
                </li>
            </ol>

            <hr>
            <div class="mt-2 text-muted small">Note: Actions sensibles requièrent rôle <strong>admin</strong> et justification.</div>
        </div>
    </div>
</div>

<style>
.playbook { list-style: none; padding: 0; }
.playbook li { display:flex; justify-content:space-between; gap: 12px; padding:12px 8px; border-bottom:1px solid #eef2f7; align-items:center; }
.step-title{ font-weight:600; }
.step-desc{ color:#6b7280; font-size:13px; }
.step-actions a{ min-width:110px; }
</style>
{% endblock %}
