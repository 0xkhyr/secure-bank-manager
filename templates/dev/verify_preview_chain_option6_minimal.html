{% extends 'base.html' %}

{% block title %}Preview: Chain - Option 6 (Minimal Audit Chain){% endblock %}

{% block content %}
<div style="max-width:1100px;margin:28px auto; font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; color:#111827;">
  <h2 style="text-align:center; font-weight:600; margin-bottom:6px;">Audit Hash-Chain Visualization</h2>
  <p style="text-align:center; color:#6b7280; margin-top:0; margin-bottom:18px;">Genesis → Logs → Broken nodes → Daily Root checkpoint — read-only, banking-grade integrity view</p>

  <div style="background:#ffffff; border:1px solid #e6e8eb; border-radius:8px; padding:16px;">
    <div style="overflow:auto; padding-bottom:8px;">
      <div style="display:flex; gap:12px; align-items:center;">

        <!-- Genesis -->
        <div class="minimal-node good">
          <div class="title">Genesis Hash</div>
          <div class="meta">a1b2...c3d4</div>
        </div>
        <div class="arrow">→</div>

        <!-- Good node -->
        <div class="minimal-node good">
          <div class="title">Log #2452</div>
          <div class="meta">hash: f1e2...9a0b</div>
        </div>
        <div class="arrow">→</div>

        <!-- Broken node -->
        <div class="minimal-node broken">
          <div class="title">Log #2465</div>
          <div class="meta">Integrity violation</div>
        </div>
        <div class="arrow">→</div>

        <!-- Daily checkpoint -->
        <div class="minimal-node checkpoint">
          <div class="title">Daily Root</div>
          <div class="meta">root: c9d8...bb7a</div>
        </div>

        <!-- Gap indicator -->
        <div style="min-width:160px; text-align:center; color:#9ca3af; font-style:italic;">… 1,234 logs omitted …</div>

      </div>
    </div>
  </div>

  <p style="color:#6b7280; font-size:13px; margin-top:12px; text-align:center;">Read-only view intended for monitoring. Forensic export is available in admin tools.</p>
</div>

<style>
.minimal-node{ min-width:96px; min-height:44px; background:#fafafa; border-radius:6px; padding:8px 10px; border:1px solid #eef2f6; display:flex; flex-direction:column; justify-content:center; }
/* Slightly smaller "signal" style for normal nodes */
.minimal-node.good{ border:1.5px solid #5395fe; background:#f0f5ff; min-width:84px; min-height:38px; padding:6px 10px }
/* Larger, more prominent broken node */
.minimal-node.broken{ border:2px solid #ef4444; background:#fff5f5; min-width:160px; min-height:72px; padding:12px 14px; box-shadow:0 4px 10px rgba(239,68,68,0.06) }
/* Checkpoint nodes slightly larger than normal but smaller than broken */
.minimal-node.checkpoint{ border:1.5px solid #f59e0b; background:#fffbeb; min-width:110px; min-height:48px }

.minimal-node .title{ font-size:13px; font-weight:600; color:#111827 }
.minimal-node .meta{ font-size:12px; color:#6b7280; margin-top:6px }
.arrow{ color:#9ca3af; font-weight:600; font-size:14px }

/* Optional: align nodes to baseline so sizes feel like signal bars */
.chain-row{ display:flex; align-items:flex-end; gap:12px }

</style>

{% endblock %}
