{% extends 'base.html' %}

{% block title %}Mon profil - SecureBank{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <h1 style="font-size: 24px; font-weight: 400; margin-bottom: 16px;">Mon profil</h1>

    <div class="card" style="margin-bottom: 20px;">
        <div class="card-header">Informations</div>
        <div class="card-body">
            <form method="post">
                <input type="hidden" name="action" value="update_profile">
                <div style="margin-bottom: 12px;">
                    <label style="font-size: 13px; font-weight: 500;">Nom d'utilisateur</label>
                    <div style="font-family: monospace;">{{ user.nom_utilisateur }}</div>
                </div>
                <div style="margin-bottom: 12px;">
                    <label for="display_name" style="font-size: 13px; font-weight: 500;">Nom affiché</label>
                    <input id="display_name" name="display_name" class="form-control" value="{{ user.display_name or '' }}" maxlength="100">
                    <div style="font-size:12px; color:var(--text-secondary); margin-top:6px;">Facultatif. Servira comme nom affiché dans l'interface.</div>
                </div>
                <button class="btn" type="submit" style="background: #3b82f6; color:white;">Enregistrer</button>
            </form>
        </div>
    </div>

    <div class="card">
        <div class="card-header">Changer le mot de passe</div>
        <div class="card-body">
            <form method="post">
                <input type="hidden" name="action" value="change_password">
                <div style="margin-bottom: 12px;">
                    <label for="current_password" style="font-size: 13px; font-weight: 500;">Mot de passe actuel</label>
                    <input id="current_password" name="current_password" type="password" class="form-control" required>
                </div>
                <div style="margin-bottom: 12px;">
                    <label for="new_password" style="font-size: 13px; font-weight: 500;">Nouveau mot de passe</label>
                    <input id="new_password" name="new_password" type="password" class="form-control" required>
                    <div style="font-size:12px; color:var(--text-secondary); margin-top:6px;">Au moins 6 caractères.</div>
                </div>
                <div style="margin-bottom: 12px;">
                    <label for="confirm_password" style="font-size: 13px; font-weight: 500;">Confirmer le nouveau mot de passe</label>
                    <input id="confirm_password" name="confirm_password" type="password" class="form-control" required>
                </div>
                <button class="btn" type="submit" style="background: #3b82f6; color:white;">Réinitialiser le mot de passe</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}